@model  List<TrouveUnBand.Classes.EventInfo>
@{
    ViewBag.Title = "Événements";
}

<h2 class="col-md-12">Événements</h2>
<p class="col-md-12">
    @if (User.Identity.Name != "")
    {
        @Html.ActionLink("Créer un événement", "Create", new { controller = "Event" }, new { @class = "btn btn-primary" })
    }
</p>

<div class="col-md-12">
    @foreach (var item in Model)
    {
        <div class="event-panel col-md-12">
            <img src="@item.Photo" alt="Image" class="col-md-3">

            <div class="event-panel-date col-md-2">
                <h3 class="col-md-3">@item.DayOfTheWeek</h3>
                <h1 class="col-md-12">@item.DayAndMonth</h1>
            </div>

            <div class="event-panel-info col-md-5">
                <span class="col-md-12">@item.Location</span>
                <h2 class="col-md-12">@item.Name</h2>
                @if (@item.Bands.FirstOrDefault() != null)
                {
                    <span class="col-md-12">@item.Bands.FirstOrDefault().Name</span>
                }
            </div>

            <div class="event-panel-button col-md-2">
                @if (item.UserNickname == User.Identity.Name)
                {
                    @Html.ActionLink("Modifier", "Edit", new { id = item.Event_ID }, new { @class = "btn btn-sm btn-default col-md-12" })
                }
                @Html.ActionLink("Détails", "EventProfile", new { id = item.Event_ID }, new { @class = "btn btn-primary col-md-12 pull-right" })
            </div>
        </div>
    }

</div>

