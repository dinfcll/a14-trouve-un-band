<script>
    var onglet = document.getElementById("accueil");
    onglet.setAttribute("class", "active");
</script>

@{
    ViewBag.Title = "Page d'accueil";
}


<div id="NewsfeedUser" class="row">
@foreach (var item in (List<TrouveUnBand.Models.NewsfeedUserModel>)ViewData["NewsfeedUser"])
{  
    <div class="col-sm-6 col-md-1 container-fluid NewsfeedItems">
        <div class="thumbnail card btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="@Html.DisplayFor(modelItem => item.FirstName) @Html.DisplayFor(modelItem => item.LastName) ">
            @if (item.Photo == null)
            {
                <img src="http://placehold.it/100x100" alt="Image">
            }
            else
            {
                var photo = "data:image/jpeg;base64," + Convert.ToBase64String(item.Photo);
                <img src="@photo" width="100" height="100" class="photo" alt="Image">
            }
        </div>
    </div>
}
</div>

<div id="NewsfeedBand" class="row">
@foreach (var item in (List<TrouveUnBand.Models.NewsfeedBandModel>)ViewData["NewsfeedBand"])
{
    <div class="col-md-3 NewsfeedItems thumbnail">
        <img src="http://placehold.it/200x200">
        <div class="caption container-fluid">
            <div class="row">
            @Html.Label("Nom")
            @Html.DisplayFor(modelItem => item.Name)
            </div>
            <div class="row">
            @Html.Label("Location")
            @Html.DisplayFor(modelItem => item.Location)
            </div>
            <div class="row">
            @Html.Label("Description")
            @Html.DisplayFor(modelItem => item.Description)
            </div>
            <div class="row">
            @Html.ActionLink("Details", "Details", new { id = item.BandId })
            </div>
            @Html.ActionLink("Afficher", "ViewProfile", "Users", new { type = "BAND", Id = item.BandId }, new { @class = "btn btn-primary", @role = "button" })
        </div>
     </div>      
}
</div>

<div id="NewsfeedEvent" class="row">
@foreach (var item in (List<TrouveUnBand.Models.NewsfeedEventModel>)ViewData["NewsfeedEvent"])
{
    <div class="col-md-4 thumbnail">
        <div class="thumbnail card">
            @if (item.EventPhoto == null)
            {
                <img src="http://placehold.it/250x172" alt="Image">
            }
            else
            {
                var photo = "data:image/jpeg;base64," + Convert.ToBase64String(item.EventPhoto);
                <img src="@photo" width="250" height="172" class="photo" alt="Image">
            }
        </div>
        <div class="caption container-fluid">
                    <div class="row">
                    @Html.Label("Nom")
                    @Html.DisplayFor(modelItem => item.EventName)
                    </div>
                    <div class="row">
                    @Html.Label("Location")
                    @Html.DisplayFor(modelItem => item.EventLocation)
                    </div>
                    <div class="row">
                    @Html.Label("Genre")
                    @Html.DisplayFor(modelItem => item.EventGender)
                    </div>
                    <div class="row">
                    @Html.ActionLink("Details", "Details", new { id = item.EventId })
                    </div>
                    @Html.ActionLink("Afficher", "ViewProfile", "Users", new { type = "EVENT", Id = item.EventId }, new { @class = "btn btn-primary", @role = "button" })
                </div>
    </div>
}
</div>

<div id="NewsfeedAdvert" class="row">
@foreach (var item in (List<TrouveUnBand.Models.NewsfeedAdvertModel>)ViewData["NewsfeedAdvert"])
{
    <div class="col-md-4 thumbnail">
        <div class="thumbnail card">
            @if (item.AdvertPhoto == null)
            {
                <img src="http://placehold.it/250x172" alt="Image">
            }
            else
            {
                var photo = "data:image/jpeg;base64," + Convert.ToBase64String(item.AdvertPhoto);
                <img src="@photo" width="250" height="172" class="photo" alt="Image">
            }
        </div>
        <div class="caption container-fluid">
            <div class="row">
            @Html.Label("Type")
            @Html.DisplayFor(modelItem => item.Type)
            </div>
            <div class="row">
            @Html.Label("Genre")
            @Html.DisplayFor(modelItem => item.Genre.Name)
            </div>
            <div class="row">
            @Html.Label("Description")
            @Html.DisplayFor(modelItem => item.Description)
            </div>
            <div class="row">
            @Html.ActionLink("Details", "Details", new { id = item.AdvertId })
            </div>
        </div>
    </div>
}
</div>
